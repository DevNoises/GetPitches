#define NOTE_ARR_SIZE 123
float frequencyHz []
{
    16.351,
    17.324,
    18.354,
    19.445,
    20.601,
    21.827,
    23.124,
    24.499,
    25.956,
    27.500,
    29.135,
    30.868,
    32.703,
    34.648,
    36.708,
    38.891,
    41.203,
    43.654,
    46.249,
    48.999,
    51.913,
    55.000,
    58.270,
    61.735,
    65.406,
    69.296,
    73.416,
    77.782,
    82.407,
    87.307,
    92.499,
    97.999,
    103.826,
    110.000,
    116.541,
    123.471,
    130.813,
    138.591,
    146.832,
    155.563,
    164.814,
    174.614,
    184.997,
    195.998,
    207.652,
    220.000,
    233.082,
    246.942,
    261.626,
    277.183,
    293.665,
    311.127,
    329.628,
    349.228,
    369.994,
    391.995,
    415.305,
    440.000,
    466.164,
    493.883,
    523.251,
    554.365,
    587.330,
    622.254,
    659.255,
    698.456,
    739.989,
    783.991,
    830.609,
    880.000,
    932.328,
    987.767,
    1046.502,
    1108.731,
    1174.659,
    1244.508,
    1318.510,
    1396.913,
    1479.978,
    1567.982,
    1661.219,
    1760.000,
    1864.655,
    1975.533,
    2093.005,
    2217.461,
    2349.318,
    2489.016,
    2637.021,
    2793.826,
    2959.955,
    3135.964,
    3322.438,
    3520.000,
    3729.310,
    3951.066,
    4186.009,
    4434.922,
    4698.636,
    4978.032,
    5274.042,
    5587.652,
    5919.910,
    6271.928,
    6644.876,
    7040.000,
    7458.620,
    7902.132,
    8372.018,
    8869.844,
    9397.272,
    9956.064,
    10548.084,
    11175.304,
    11839.820,
    12543.856,
    13289.752,
    14080.000,
    14917.240,
    15804.264
};

char noteName [][8]
{
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
    "C",
    "C# / Db",
    "D",
    "D# / Eb",
    "E",
    "F",
    "F# / Gb",
    "G",
    "G# / Ab",
    "A",
    "A# / Bb",
    "B",
};

float freqLog10 []
{
    1.21354431853767,
    1.2386481750578,
    1.26373072736832,
    1.28880794748348,
    1.31388830211387,
    1.33899404844489,
    1.36406296070308,
    1.38914835769738,
    1.41423776548672,
    1.43933269383026,
    1.46441502242617,
    1.48950849157792,
    1.51458759436316,
    1.53967817072179,
    1.5647607230323,
    1.58984911025721,
    1.61492883826646,
    1.64002404410887,
    1.66510234682257,
    1.69018721678538,
    1.71527612704488,
    1.74036268949424,
    1.76544501809015,
    1.79053145248099,
    1.81561759002714,
    1.84070816638577,
    1.86579071869628,
    1.8908791059212,
    1.91596410407881,
    1.94104906546386,
    1.96613703763817,
    1.99122164409354,
    2.01630612270886,
    2.04139268515823,
    2.06647874030826,
    2.09156496553967,
    2.11665090566805,
    2.14173502841975,
    2.16682071436027,
    2.19190630983466,
    2.21699409974279,
    2.24207906112784,
    2.26716468573269,
    2.29225163975752,
    2.31733611837285,
    2.34242268082221,
    2.36750873597225,
    2.39259496120365,
    2.41768090133203,
    2.44276659090156,
    2.467852188904,
    2.49293770137614,
    2.51802409540678,
    2.54310905679182,
    2.56819468139667,
    2.5932805275147,
    2.61836715976227,
    2.64345267648619,
    2.66853873163623,
    2.69362407752163,
    2.71871006700416,
    2.74379580315733,
    2.76888218456798,
    2.79396769704012,
    2.81905343230571,
    2.8441390524558,
    2.86922526395421,
    2.89431107713243,
    2.91939663256384,
    2.94448267215017,
    2.96956872730021,
    2.99465451285883,
    3.01974006266814,
    3.04482619052559,
    3.06991181051249,
    3.0949976927041,
    3.12008342796969,
    3.14516935901577,
    3.17025525961819,
    3.19534107279641,
    3.22042688965911,
    3.24551266781415,
    3.27059849005549,
    3.29568428868626,
    3.32077026583024,
    3.34585599033748,
    3.37094180617647,
    3.39602768836809,
    3.42111358832503,
    3.44619935467975,
    3.47128510855886,
    3.4963710684604,
    3.52145688532309,
    3.54654266347813,
    3.57162848571947,
    3.59671428435024,
    3.62180015774518,
    3.64688598600146,
    3.67197180184046,
    3.69705768403207,
    3.72214358398901,
    3.74722935034373,
    3.77231510422284,
    3.79740106412438,
    3.82248688098707,
    3.84757265914211,
    3.87265848138346,
    3.89774428001422,
    3.92283015340916,
    3.94791598166544,
    3.97300179750444,
    3.99808767969605,
    4.02317357965299,
    4.04825934600771,
    4.07334509988682,
    4.09843105978836,
    4.12351687665105,
    4.14860265480609,
    4.17368847704744,
    4.1987742756782
};

unsigned int octave []
{
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    6,
    6,
    6,
    6,
    6,
    6,
    6,
    6,
    6,
    6,
    6,
    6,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
};

static unsigned int freqToIndex(float freq)
{
    // left it simple for now
    unsigned int half = NOTE_ARR_SIZE / 2;
    if (freq > frequencyHz[half])
    {
        for (int i = half; i < NOTE_ARR_SIZE; i++)
        {
            int diff = freq - frequencyHz[i];
            if (diff <= 0) {
                return i;
            }
        }
    }
    else
    {
        for (int i = half; i > 0; i--)
        {
            int diff = frequencyHz[i] - freq;
            if (diff <= 0) {
                return i;
            }
        }
    }
    return NOTE_ARR_SIZE / 2;
}